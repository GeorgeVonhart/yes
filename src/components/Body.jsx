import { useCallback, useState, useEffect, useRef } from "react";
import { useNavigate, useLocation } from "react-router-dom";
import Container1 from "./Container1";
import PropTypes from "prop-types";
import DiscordContainer from './DiscordContainer';

const Body = ({ className = "" }) => {
  const navigate = useNavigate();
  const location = useLocation();
  const [activeLink, setActiveLink] = useState("bonuses");
  const [svgPosition, setSvgPosition] = useState("175.5px");
  const svgRef = useRef(null);

  const updateSvgPosition = useCallback(() => {
    const isSmallScreen = window.innerWidth < 768;
    const bonusesPosition = isSmallScreen ? "93.5px" : "93.5px";
    const leaderboardPosition = isSmallScreen ? "200px" : "255.5px";
    setSvgPosition(activeLink === "bonuses" ? bonusesPosition : leaderboardPosition);
  }, [activeLink]);

  useEffect(() => {
    updateSvgPosition();
    window.addEventListener("resize", updateSvgPosition);

    return () => {
      window.removeEventListener("resize", updateSvgPosition);
    };
  }, [updateSvgPosition]);

  useEffect(() => {
    if (location.pathname === "/") {
      setActiveLink("bonuses");
    } else if (location.pathname === "/leaderboard") {
      setActiveLink("leaderboard");
    }
    updateSvgPosition();
  }, [location, updateSvgPosition]);

  const handleLinkClick = useCallback(
    (link) => {
      setActiveLink(link);
      updateSvgPosition();
      navigate(link === "bonuses" ? "/" : "/leaderboard");
    },
    [navigate, updateSvgPosition]
  );
  return (
    <section
      className={`self-stretch flex flex-col items-start justify-start min-w-[320px] min-h-[1200px] max-w-full text-left text-base-8 text-ghostwhite-300 ${className}`}
    >
<header className="self-stretch [backdrop-filter:blur(24px)] bg-gray-700 box-border flex flex-col  items-center justify-center pt-2 px-4  pb-[7px] min-h-[78px] top-[0] z-[99] sticky max-w-full text-left text-base text-ghostwhite-100 border-b-[1px] border-solid border-ghostwhite-700">
<div className="w-[1280px] flex flex-row items-end justify-start pt-[3.5px] px-6 pb-[7.5px] box-border max-w-[1280px] mq1275:max-w-full">
          <div
            className="flex flex-row items-start justify-start cursor-pointer"
            onClick={() => handleLinkClick('bonuses')}
          >
              <svg width="160" height="51" viewBox="0 0 160 51" fill="none" xmlns="http://www.w3.org/2000/svg"
              >
<mask id="path-1-inside-1_25_1759" fill="white">
<path d="M82.709 2.00338L75.5215 2.76803C75.4653 2.61048 75.3175 2.5872 75.1286 2.58161C74.5861 2.56672 74.0399 2.59558 73.4992 2.61048C73.1465 2.62072 72.6751 2.61048 72.4684 3.04886C72.4571 3.0712 72.444 3.08517 72.4299 3.09635L72.2989 3.11031C72.2597 3.09821 72.2213 3.07772 72.1943 3.06469C71.4571 2.70657 70.6873 2.91459 69.9307 3.07214C69.6716 3.12614 69.4536 3.31647 69.1729 3.37885C69.0374 3.40883 68.9242 3.44142 68.8316 3.4796L66.0384 3.77626C66.0384 3.75652 66.0356 3.73697 66.0338 3.71741C66.0038 3.42187 65.8271 3.3593 65.5361 3.39654C65.2264 3.43584 64.9111 3.44049 64.6063 3.50009C63.8841 3.64087 63.1554 3.64274 62.4316 3.6811C61.7468 3.71648 61.0696 3.90215 60.3971 3.90587C59.5945 3.9096 58.8031 4.04573 58.006 4.09136C57.1951 4.13791 56.3748 4.32358 55.5563 4.35803C54.881 4.38597 54.2066 4.59119 53.5255 4.44668C53.3881 4.41781 53.1756 4.46344 53.0354 4.60423C52.3469 5.29159 52.389 6.61287 53.128 7.17341C53.2823 7.29092 53.4012 7.42519 53.4844 7.57995C53.419 7.86729 53.3544 8.15446 53.289 8.44162C53.1299 8.51164 53.1738 9.03755 52.7398 9.39287C52.4012 9.66979 52.1506 9.53179 51.97 9.78544C51.8268 9.986 51.9054 10.3348 52.0663 11.0229C52.2038 11.6086 52.2758 11.9051 52.4677 12.1196C51.3002 17.4351 50.2226 22.7552 49.2798 28.1005C48.0207 35.1728 46.9301 41.9729 46.0153 48.4363C45.9328 49.0583 46.1901 49.4864 46.6419 49.6561C46.844 49.8669 47.6915 50.1047 48.4969 49.9509C49.147 49.8268 49.4013 49.5181 50.1422 49.5348C50.5734 49.5451 50.6557 49.6533 50.912 49.5835C51.0982 49.5321 51.2702 49.4145 51.418 49.2644L52.5247 49.1404C52.5414 49.1693 52.5564 49.1974 52.5751 49.2263C52.6631 49.3624 52.7837 49.4566 52.9661 49.4464C53.8463 49.3987 54.7237 49.284 55.6002 49.1535C55.7528 49.106 55.9052 49.0518 56.0651 49.0855C56.4131 49.0415 56.763 48.9978 57.1138 48.954C57.1409 48.9466 57.169 48.938 57.1961 48.9296C57.2381 48.9175 57.2792 48.9054 57.3205 48.8942C57.3326 48.8905 57.3457 48.8914 57.3589 48.8905C57.357 48.897 57.3541 48.9035 57.3503 48.9101C57.5852 48.8803 57.8208 48.8495 58.0557 48.8195C58.0529 48.8149 58.0492 48.8102 58.0453 48.8056C58.0557 48.8074 58.0661 48.8102 58.0753 48.8121C58.4411 48.7739 58.8068 48.7329 59.1735 48.6976C59.9687 48.6201 60.7664 48.5603 61.5606 48.4616C61.9048 48.4186 62.0385 48.4214 62.1163 48.5866C62.7711 48.5361 63.4231 48.4951 64.0778 48.4598C64.1302 48.3823 64.2377 48.3273 64.3425 48.2983C64.6354 48.2164 64.9384 48.1305 65.2368 48.1119C66.3096 48.0456 67.3741 47.8703 68.4406 47.7268C69.3319 47.6074 70.2252 47.5541 71.1167 47.4431C71.6601 47.3761 72.213 47.3135 72.7629 47.2707C73.5112 47.212 74.2597 47.0711 75.0071 47.0208C75.6852 46.9752 75.7693 46.9647 75.6646 46.5144C76.324 46.3278 76.6804 45.8719 76.7702 45.1874L77.8619 36.8831C77.9573 36.1585 77.4381 35.6019 76.642 35.6503L58.8657 37.2571L58.9677 36.7191C58.8555 36.5558 58.8049 36.2788 58.8273 35.9861C58.8816 35.2792 58.5899 34.4054 59.2063 33.9475C59.3158 33.8655 59.4271 33.8001 59.5373 33.748L59.7599 32.5822C59.8573 32.3837 59.9116 32.1682 59.9116 31.9435C59.9116 31.9025 59.9087 31.8613 59.9059 31.8213L59.9162 31.7673L67.0618 30.4142C67.0608 30.498 67.0244 30.6099 66.9569 30.7593C66.8008 31.1041 66.9505 31.4436 67.2759 31.4138C67.6454 31.3803 68.0392 31.341 68.3685 31.1872C68.9475 30.9177 69.4891 30.5689 70.1552 30.554C70.3356 30.5503 70.4413 30.4253 70.5751 30.3367C70.9418 30.0914 71.2869 29.8127 71.6405 29.5478L74.6918 28.9696C75.4383 28.7944 75.8965 28.3085 75.9919 27.5839L76.8928 20.7289C76.9495 20.2991 76.7659 19.9295 76.4549 19.7094C76.0638 19.4326 75.6288 19.8392 75.5663 20.3142L74.8548 25.7257C74.8373 25.8587 74.7279 25.9605 74.594 25.9685C74.5761 25.9696 74.5618 25.9537 74.5648 25.936L75.4187 20.7955C75.5274 20.1406 74.9795 19.5634 74.3198 19.638L61.6514 21.071L62.8337 15.5728L81.3228 12.5485C82.1282 12.4349 82.5866 11.9481 82.7559 11.1535L83.9869 3.29877C84.0906 2.50787 83.5716 1.95124 82.709 2.00338ZM47.5942 46.0925C47.455 46.0757 47.5279 45.9244 47.6678 45.9158L47.7716 45.9095C47.8103 45.9071 47.8457 45.9314 47.858 45.9682C47.8731 46.0134 47.8491 46.0629 47.8028 46.0743C47.7302 46.092 47.6578 46.1002 47.5942 46.0925ZM55.3901 10.7589C55.3647 10.8491 55.1879 10.9024 55.1708 10.8102C55.1594 10.7486 55.2508 10.7469 55.3122 10.7358C55.3373 10.7312 55.3536 10.7229 55.3775 10.732C55.3907 10.7371 55.3935 10.7468 55.3901 10.7589ZM67.3065 38.6939C67.3414 38.6567 67.4105 38.6476 67.4265 38.6961C67.4452 38.753 67.3713 38.848 67.3461 38.8266C67.3209 38.8052 67.2946 38.7845 67.2685 38.764C67.2558 38.7541 67.2791 38.7231 67.3065 38.6939ZM74.5956 26.699C74.6132 26.5646 74.7699 26.5725 74.8621 26.6719L74.9341 27.125C74.9288 27.1667 74.8968 27.2095 74.8531 27.2693C74.793 27.3517 74.7294 27.4323 74.6607 27.5077C74.6108 27.5623 74.5589 27.6209 74.5308 27.6529C74.517 27.6685 74.4996 27.678 74.4788 27.6804C74.4735 27.681 74.4671 27.6766 74.4678 27.6712L74.5956 26.699ZM68.7754 13.7711C67.9177 14.2934 66.9655 14.3093 66.0262 14.394C65.7072 14.423 65.5474 14.1478 65.5848 13.8448C65.638 13.4036 65.3462 12.8572 65.9636 12.5719C66.3929 12.3723 66.8373 12.3155 67.2133 12.3546C67.7632 12.3295 68.1935 12.4189 68.6219 12.6083C68.8577 12.7137 69.1665 12.6595 69.1466 13.055C69.1318 13.3543 69.1 13.5753 68.7754 13.7711ZM79.0203 4.78517C79.0089 4.87355 78.9137 4.97054 78.8393 4.92137C78.7743 4.87835 78.8005 4.76583 78.8655 4.72267C78.9089 4.69382 78.9552 4.6861 78.9985 4.71522C79.0198 4.72958 79.0241 4.7561 79.0203 4.78517Z"/>
</mask>
<path d="M82.709 2.00338L75.5215 2.76803C75.4653 2.61048 75.3175 2.5872 75.1286 2.58161C74.5861 2.56672 74.0399 2.59558 73.4992 2.61048C73.1465 2.62072 72.6751 2.61048 72.4684 3.04886C72.4571 3.0712 72.444 3.08517 72.4299 3.09635L72.2989 3.11031C72.2597 3.09821 72.2213 3.07772 72.1943 3.06469C71.4571 2.70657 70.6873 2.91459 69.9307 3.07214C69.6716 3.12614 69.4536 3.31647 69.1729 3.37885C69.0374 3.40883 68.9242 3.44142 68.8316 3.4796L66.0384 3.77626C66.0384 3.75652 66.0356 3.73697 66.0338 3.71741C66.0038 3.42187 65.8271 3.3593 65.5361 3.39654C65.2264 3.43584 64.9111 3.44049 64.6063 3.50009C63.8841 3.64087 63.1554 3.64274 62.4316 3.6811C61.7468 3.71648 61.0696 3.90215 60.3971 3.90587C59.5945 3.9096 58.8031 4.04573 58.006 4.09136C57.1951 4.13791 56.3748 4.32358 55.5563 4.35803C54.881 4.38597 54.2066 4.59119 53.5255 4.44668C53.3881 4.41781 53.1756 4.46344 53.0354 4.60423C52.3469 5.29159 52.389 6.61287 53.128 7.17341C53.2823 7.29092 53.4012 7.42519 53.4844 7.57995C53.419 7.86729 53.3544 8.15446 53.289 8.44162C53.1299 8.51164 53.1738 9.03755 52.7398 9.39287C52.4012 9.66979 52.1506 9.53179 51.97 9.78544C51.8268 9.986 51.9054 10.3348 52.0663 11.0229C52.2038 11.6086 52.2758 11.9051 52.4677 12.1196C51.3002 17.4351 50.2226 22.7552 49.2798 28.1005C48.0207 35.1728 46.9301 41.9729 46.0153 48.4363C45.9328 49.0583 46.1901 49.4864 46.6419 49.6561C46.844 49.8669 47.6915 50.1047 48.4969 49.9509C49.147 49.8268 49.4013 49.5181 50.1422 49.5348C50.5734 49.5451 50.6557 49.6533 50.912 49.5835C51.0982 49.5321 51.2702 49.4145 51.418 49.2644L52.5247 49.1404C52.5414 49.1693 52.5564 49.1974 52.5751 49.2263C52.6631 49.3624 52.7837 49.4566 52.9661 49.4464C53.8463 49.3987 54.7237 49.284 55.6002 49.1535C55.7528 49.106 55.9052 49.0518 56.0651 49.0855C56.4131 49.0415 56.763 48.9978 57.1138 48.954C57.1409 48.9466 57.169 48.938 57.1961 48.9296C57.2381 48.9175 57.2792 48.9054 57.3205 48.8942C57.3326 48.8905 57.3457 48.8914 57.3589 48.8905C57.357 48.897 57.3541 48.9035 57.3503 48.9101C57.5852 48.8803 57.8208 48.8495 58.0557 48.8195C58.0529 48.8149 58.0492 48.8102 58.0453 48.8056C58.0557 48.8074 58.0661 48.8102 58.0753 48.8121C58.4411 48.7739 58.8068 48.7329 59.1735 48.6976C59.9687 48.6201 60.7664 48.5603 61.5606 48.4616C61.9048 48.4186 62.0385 48.4214 62.1163 48.5866C62.7711 48.5361 63.4231 48.4951 64.0778 48.4598C64.1302 48.3823 64.2377 48.3273 64.3425 48.2983C64.6354 48.2164 64.9384 48.1305 65.2368 48.1119C66.3096 48.0456 67.3741 47.8703 68.4406 47.7268C69.3319 47.6074 70.2252 47.5541 71.1167 47.4431C71.6601 47.3761 72.213 47.3135 72.7629 47.2707C73.5112 47.212 74.2597 47.0711 75.0071 47.0208C75.6852 46.9752 75.7693 46.9647 75.6646 46.5144C76.324 46.3278 76.6804 45.8719 76.7702 45.1874L77.8619 36.8831C77.9573 36.1585 77.4381 35.6019 76.642 35.6503L58.8657 37.2571L58.9677 36.7191C58.8555 36.5558 58.8049 36.2788 58.8273 35.9861C58.8816 35.2792 58.5899 34.4054 59.2063 33.9475C59.3158 33.8655 59.4271 33.8001 59.5373 33.748L59.7599 32.5822C59.8573 32.3837 59.9116 32.1682 59.9116 31.9435C59.9116 31.9025 59.9087 31.8613 59.9059 31.8213L59.9162 31.7673L67.0618 30.4142C67.0608 30.498 67.0244 30.6099 66.9569 30.7593C66.8008 31.1041 66.9505 31.4436 67.2759 31.4138C67.6454 31.3803 68.0392 31.341 68.3685 31.1872C68.9475 30.9177 69.4891 30.5689 70.1552 30.554C70.3356 30.5503 70.4413 30.4253 70.5751 30.3367C70.9418 30.0914 71.2869 29.8127 71.6405 29.5478L74.6918 28.9696C75.4383 28.7944 75.8965 28.3085 75.9919 27.5839L76.8928 20.7289C76.9495 20.2991 76.7659 19.9295 76.4549 19.7094C76.0638 19.4326 75.6288 19.8392 75.5663 20.3142L74.8548 25.7257C74.8373 25.8587 74.7279 25.9605 74.594 25.9685C74.5761 25.9696 74.5618 25.9537 74.5648 25.936L75.4187 20.7955C75.5274 20.1406 74.9795 19.5634 74.3198 19.638L61.6514 21.071L62.8337 15.5728L81.3228 12.5485C82.1282 12.4349 82.5866 11.9481 82.7559 11.1535L83.9869 3.29877C84.0906 2.50787 83.5716 1.95124 82.709 2.00338ZM47.5942 46.0925C47.455 46.0757 47.5279 45.9244 47.6678 45.9158L47.7716 45.9095C47.8103 45.9071 47.8457 45.9314 47.858 45.9682C47.8731 46.0134 47.8491 46.0629 47.8028 46.0743C47.7302 46.092 47.6578 46.1002 47.5942 46.0925ZM55.3901 10.7589C55.3647 10.8491 55.1879 10.9024 55.1708 10.8102C55.1594 10.7486 55.2508 10.7469 55.3122 10.7358C55.3373 10.7312 55.3536 10.7229 55.3775 10.732C55.3907 10.7371 55.3935 10.7468 55.3901 10.7589ZM67.3065 38.6939C67.3414 38.6567 67.4105 38.6476 67.4265 38.6961C67.4452 38.753 67.3713 38.848 67.3461 38.8266C67.3209 38.8052 67.2946 38.7845 67.2685 38.764C67.2558 38.7541 67.2791 38.7231 67.3065 38.6939ZM74.5956 26.699C74.6132 26.5646 74.7699 26.5725 74.8621 26.6719L74.9341 27.125C74.9288 27.1667 74.8968 27.2095 74.8531 27.2693C74.793 27.3517 74.7294 27.4323 74.6607 27.5077C74.6108 27.5623 74.5589 27.6209 74.5308 27.6529C74.517 27.6685 74.4996 27.678 74.4788 27.6804C74.4735 27.681 74.4671 27.6766 74.4678 27.6712L74.5956 26.699ZM68.7754 13.7711C67.9177 14.2934 66.9655 14.3093 66.0262 14.394C65.7072 14.423 65.5474 14.1478 65.5848 13.8448C65.638 13.4036 65.3462 12.8572 65.9636 12.5719C66.3929 12.3723 66.8373 12.3155 67.2133 12.3546C67.7632 12.3295 68.1935 12.4189 68.6219 12.6083C68.8577 12.7137 69.1665 12.6595 69.1466 13.055C69.1318 13.3543 69.1 13.5753 68.7754 13.7711ZM79.0203 4.78517C79.0089 4.87355 78.9137 4.97054 78.8393 4.92137C78.7743 4.87835 78.8005 4.76583 78.8655 4.72267C78.9089 4.69382 78.9552 4.6861 78.9985 4.71522C79.0198 4.72958 79.0241 4.7561 79.0203 4.78517Z" fill="url(#paint0_linear_25_1759)" stroke="url(#paint1_linear_25_1759)" mask="url(#path-1-inside-1_25_1759)"/>
<defs>
<linearGradient id="paint0_linear_25_1759" x1="65" y1="2" x2="65" y2="50" gradientUnits="userSpaceOnUse">
<stop stop-color="#0668FA"/>
<stop offset="1" stop-color="#5E9EFF"/>
</linearGradient>
<linearGradient id="paint1_linear_25_1759" x1="65" y1="2" x2="65" y2="50" gradientUnits="userSpaceOnUse">
<stop stop-color="#5E9EFF"/>
<stop offset="1" stop-color="#0668FA"/>
</linearGradient>
</defs>
</svg>
          </div>
          <div className="w-[904px] flex flex-col items-start justify-end pt-0 px-0 pb-3 box-border max-w-full">
            <div className="self-stretch flex flex-col items-center justify-start py-0 px-5 box-border min-w-[435.16px]">
              <div className="flex flex-row items-start justify-start pt-0 px-0 pb-0 relative gap-[16px]">
                <div
                  className={`flex flex-col items-start justify-start cursor-pointer ${activeLink === 'bonuses' ? 'opacity-100' : 'opacity-[0.5]'}`}
                  onClick={() => handleLinkClick('bonuses')}
                >
                  <div className="flex flex-col items-start justify-start">
                    <a className="[text-decoration:none] relative leading-[22px] uppercase text-[inherit] inline-block min-w-[77px]">
                      Bonuses
                    </a>
                  </div>
                </div>
                <div
                  className={`flex flex-col items-start justify-start cursor-pointer ${activeLink === 'leaderboard' ? 'opacity-100' : 'opacity-[0.5]'}`}
               
                >
                  <div className="clickable-element w-full flex flex-row items-start justify-start cursor-pointer">
                    <a
                       onClick={() => handleLinkClick('leaderboard')}
                    className="clickable-element [text-decoration:none] relative leading-[22px] uppercase text-[inherit] inline-block min-w-[118px]">
                      Leaderboard
                    </a>
                  </div>
                </div>
                <div                   className="h-3.5 w-5 absolute bottom-[-32px] transition-all duration-500 ease-in-out"
 style={{ left: svgPosition }}>
  <img
    ref={svgRef}
    className="svg-11 w-full h-full object-contain absolute [transform:scale(8.355)]"
    loading="lazy"
    alt=""
    src="/svg-11.svg"
  />
</div>
              </div>
            </div>
          </div>
          <div className="h-[39px] w-[168px] hidden" />
        </div>
      </header>
      <div className="self-stretch flex flex-row items-start justify-center py-0 px-5 box-border max-w-full">
        <div className="h-[1163px] flex flex-row items-start justify-start pt-14 px-0 pb-0 box-border max-w-[1280px] mq900:pt-[23px] mq900:box-border mq1275:pt-9 mq1275:box-border mq1625:h-auto mq1625:max-w-full">
          <div className="w-full max-w-[1280px] flex flex-col items-center justify-start pt-14 px-4 pb-20 box-border gap-[75px] md:gap-[149px] md:pt-24 md:pb-32">
          <div className="w-full max-w-[1280px] flex flex-n items-center justify-center gap-[42px] mx-auto px-4 md:justify-start lg:ml-[-544px] lg:w-[1338px] lg:max-w-[536%]">
  <Container1 />
  <Container1 />
  <Container1 variant="discord"/>
</div>
            <div className="whitespace-nowrap flex flex-col items-start justify-start gap-[9.7px] text-12xl-7 text-ghostwhite-100">
              <div className="relative leading-[53px] uppercase z-[1] mq450:text-lgi mq450:leading-[32px] mq900:text-6xl mq900:leading-[42px]">
                <span className="whitespace-nowrap clash-medium">{`More `}</span>
                <span className="whitespace-nowrap clash-medium text-transparent !bg-clip-text [background:linear-gradient(90deg,_#0075ff,_#79b7ff)] [-webkit-background-clip:text] [-webkit-text-fill-color:transparent]">
                  Bonuses
                </span>
              </div>
              <div className="flex flex-row items-start justify-start py-0 pr-[66px] pl-[65px] text-center text-base text-ghostwhite-600 mq450:pl-5 mq450:pr-5 mq450:box-border">
                <div className="clash-regular relative leading-[22px] uppercase inline-block min-w-[119px] whitespace-nowrap z-[1]">
                  Coming Soon...
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  );
};

Body.propTypes = {
  className: PropTypes.string,
};

export default Body;
